Reset:                          #Label para resetar o programa
STA @510                        #Limpa leitura KEY1
STA @508                        #Limpa leitura KEY0
STA @509                        #Limpa leitura Reset 
LDI R0, $0                      #Carrega 0 no acumulador
STA R0, @0   
LDI R0, $1                      #Carrega 1 no acumulador
STA R0, @1                     #Salva 1 no endereço 63 da RAM
LDI R0, $2                     #Salva 1 no endereço 63 da RAM
STA R0, @2                     #Salva 1 no endereço 63 da RAM
LDI R0, $3                     #Salva 1 no endereço 63 da RAM
STA R0, @3                     #Salva 1 no endereço 63 da RAM
LDI R0, $4                     #Salva 1 no endereço 63 da RAM
STA R0, @4
LDI R0, $5                     #Salva 1 no endereço 63 da RAM
STA R0, @5
LDI R0, $6                     #Salva 1 no endereço 63 da RAM
STA R0, @6
LDI R0, $7                     #Salva 1 no endereço 63 da RAM
STA R0, @7
LDI R0, $8                     #Salva 1 no endereço 63 da RAM
STA R0, @8
LDI R0, $9                     #Salva 1 no endereço 63 da RAM
STA R0, @9
LDI R0, $10                     #Salva 1 no endereço 63 da RAM
STA R0, @10
LDI R0, $11                     #Salva 1 no endereço 63 da RAM
STA R0, @11
LDI R0, $12                     #Salva 1 no endereço 63 da RAM
STA R0, @12
LDI R0, $13                     #Salva 1 no endereço 63 da RAM
STA R0, @13
LDI R0, $14                     #Salva 1 no endereço 63 da RAM
STA R0, @14
LDI R0, $15                     #Salva 1 no endereço 63 da RAM
STA R0, @15
LDA R0, @0                      #Carrega o valor do endereço 0 da RAM no acumulador
STA R0, @258                    #Apaga o LED 9
STA R0, @257                    #Apaga o LED 8
STA R0, @256                    #Apaga o LED 7 a 0 
STA R0, @288                    #Zera o HEX 0
STA R0, @289                    #Zera o HEX 1
STA R0, @290                    #Zera o HEX 2
STA R0, @291                    #Zera o HEX 3
STA R0, @292                    #Zera o HEX 4
STA R0, @293                    #Zera o HEX 5
STA R0, @16                     #Zera o endereço 0 da RAM (Limite das unidades)
STA R0, @17                     #Zera o endereço 1 da RAM (Limite das dezenas)
STA R0, @18                     #Zera o endereço 2 da RAM (Limite das centenas) 
STA R0, @19                     #Zera o endereço 3 da RAM (Limite dos milhares) 
STA R0, @20                     #Zera o endereço 4 da RAM (Limite das dezenas de milhares)
STA R0, @21                     #Zera o endereço 5 da RAM (Limite das centenas de milhares) 
Start:                          #Label laco principal
LDA R0, @353
CEQ R0, @0
JEQ @NKEY1
JSR @SETHora
NKEY1:
LDA @357                    #Carrega o valor do CLOCK no acumulador
CEQ @0                     #Compara o valor do CLOCK com 63 (0)
JEQ @NCLOCK                 #Se o valor da
JSR @Incremento             #Se o valor do KEY0 for 1, vai para o label Incremento (Incrementar)
LDA @16                     #Carrega o valor do endereço 10 da RAM no acumulador (valor atual das unidades)
STA @288                    #Salva o valor do acumulador no HEX 0
LDA @17                     #Carrega o valor do endereço 11 da RAM no acumulador (valor atual das dezenas)
STA @289                    #Salva o valor do acumulador no HEX 1
LDA @18                     #Carrega o valor do endereço 12 da RAM no acumulador (valor atual das centenas)
STA @290                    #Salva o valor do acumulador no HEX 2
LDA @19                     #Carrega o valor do endereço 13 da RAM no acumulador (valor atual dos milhares)
STA @291                    #Salva o valor do acumulador no HEX 3
LDA @20                     #Carrega o valor do endereço 14 da RAM no acumulador (valor atual das dezenas de milhares)
STA @292                    #Salva o valor do acumulador no HEX 4
LDA @21                     #Carrega o valor do endereço 15 da RAM no acumulador (valor atual das centenas de milhares)
STA @293                    #Salva o valor do acumulador no HEX 5
NCLOCK:
LDA @356                    #Carrega o valor do Reset no acumulador
CEQ @1                     #Compara o valor do Reset com 63 (1)
JEQ @Reset                  #Se o valor do Reset for 1, vai para o label Reset (Reseta o programa)
JMP @Start                  #Se nenhum dos botoes forem clicados, vai para o label Start (Laco principal)
Incremento:                 #Label Incremento
STA @508
UniSeg:                            #Limpa leitura CLOCK
LDA R1, @16
SOMA R1, @1                #Soma o valor do acumulador com 63 (1)
CEQ R1, @10                 #Compara o valor do acumulador com o endereco 20 da RAM (10)
JEQ @DezSeg                 #Se o valor do acumulador for 10, vai para o label IncDez (Incremento das dezenas)
STA R1, @16                 #Se o valor do acumulador nao for 10, salva o valor do acumulador no endereço 10 da RAM (valor atual das unidades)
LDA R0, @352
CEQ R0, @1
JEQ @SETSeg
RET
DezSeg:                     #Label Incremento das dezenas
LDA R1, @0                 #Carrega o valor 62 (0) no acumulador
STA R1, @16                 #Zera o valor atual das unidades
LDA R1, @17                 #Carrega o valor do endereço 11 da RAM no acumulador (valor atual das dezenas)
SOMA R1, @1                    #Soma o valor do acumulador com 63 (1)
CEQ R1, @6                     #Compara o valor do acumulador com o endereco 20 da RAM (10)
JEQ @ZeroS                 #Se o valor do acumulador for 10, vai para o label IncCen (Incremento das centenas)
STA R1, @17                     #Se o valor do acumulador nao for 10, salva o valor do acumulador no endereço 11 da RAM (valor atual das dezenas)
LDA R0, @352
CEQ R0, @1
JEQ @SETSeg
RET
UniMin:
LDA R1, @18
SOMA R1, @1
CEQ R1, @10
JEQ @DezMin    
STA R1, @18
LDA R0, @352
CEQ R0, @1
JEQ @SETMin
RET
DezMin:
LDA R1, @0
STA R1, @18
LDA R1, @19
SOMA R1, @1
CEQ R1, @6
JEQ @ZeroM
STA R1, @19
LDA R0, @352
CEQ R0, @1
JEQ @SETMin
RET
UniHora:     
LDA R1, @21
CEQ R1, @2
JEQ @vinte
LDA R1, @20
SOMA R1, @1     
CEQ R1, @10
JEQ @DezHora
STA R1, @20
LDA R0, @352
CEQ R0, @1
JEQ @SETHora
RET
vinte:
LDA R1, @20
SOMA R1, @1
CEQ R1, @4
JEQ @ZeroH
STA R1, @20
LDA R0, @352
CEQ R0, @1
JEQ @SETHora
RET
DezHora:
LDA R1, @0
STA R1, @20
LDA R1, @21
SOMA R1, @1
STA R1, @21
LDA R0, @352
CEQ R0, @1
JEQ @SETHora
RET
ZeroH:
LDA R1, @0
STA R1, @21
STA R1, @20
LDA R0, @352
CEQ R0, @1
JEQ @SETHora
STA R1, @19
STA R1, @18
STA R1, @17
STA R1, @16
RET
ZeroM:
LDA R1, @0
STA R1, @19
STA R1, @18
LDA R0, @352
CEQ R0, @1
JEQ @SETMin
JMP @UniHora
ZeroS:
LDA R1, @0
STA R1, @17
STA R1, @16
LDA R0, @352
CEQ R0, @1
JEQ @SETSeg
JMP @UniMin
SETHora:
STA @510
STA @511
LDA R1, @20
STA R1, @292
LDA R1, @21
STA R1, @293
Hora:
LDA R0, @352
CEQ R0, @1
JEQ @UniHora
LDA R0, @353
CEQ R0, @0
JEQ @Hora
STA @510
SETMin:
STA @510
STA @511
LDA R1, @18
STA R1, @290
LDA R1, @19
STA R1, @291
Min:
LDA R0, @352
CEQ R0, @1
JEQ @UniMin
LDA R0, @353
CEQ R0, @0
JEQ @Min
STA @510
SETSeg:
STA @510
STA @511
LDA R1, @16
STA R1, @288
LDA R1, @17
STA R1, @289
Seg:
LDA R0, @352
CEQ R0, @1
JEQ @UniSeg
LDA R0, @353
CEQ R0, @0
JEQ @Seg
STA @510
RET